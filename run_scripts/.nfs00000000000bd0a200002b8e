#!/bin/bash


cd ..

# in hyak:
# observed_tcounts_path="/gscratch/mostafavilab/nchand/bpAITAC/data_train_test/complete_normalized_1.17.23/memmap/val.total_counts.dat"
# model_dir="/gscratch/mostafavilab/nchand/results/BPnetRep"

type="complete"

# in chelan:
### SAMPLE
# observed_tcounts_path="/data/nchand/ImmGen/mouse/BPprofiles1000/memmaped/sample_bias_corrected_normalized_3.7.23/memmap/val.total_counts.dat"
# observed_profile_path="/data/nchand/ImmGen/mouse/BPprofiles1000/memmaped/sample_bias_corrected_normalized_3.7.23/memmap/val.bp_counts.dat"
# model_dir="/homes/gws/nchand/MostafaviLab/results/BPnetRep"
# cell_names="/data/nchand/ImmGen/mouse/BPprofiles1000/memmaped/sample_bias_corrected_normalized_3.7.23/memmap/cell_names.npy"
# peak_names="/data/nchand/ImmGen/mouse/BPprofiles1000/memmaped/sample_bias_corrected_normalized_3.7.23/memmap/val.names.dat"
# seq_len="998"

### COMPLETE
observed_tcounts_path="/data/nchand/ImmGen/mouse/BPprofiles1000/memmaped/complete_bias_corrected_normalized_3.7.23/memmap/val.total_counts.dat"
observed_profile_path="/data/nchand/ImmGen/mouse/BPprofiles1000/memmaped/complete_bias_corrected_normalized_3.7.23/memmap/val.bp_counts.dat"
model_dir="/homes/gws/nchand/MostafaviLab/results/BPnetRep"
cell_names="/data/nchand/ImmGen/mouse/BPprofiles1000/ImmGenATAC1219.peak_matched_in_sorted.sl10004sh-4.celltypes.npy"
peak_names="/data/nchand/ImmGen/mouse/BPprofiles1000/memmaped/complete_bias_corrected_normalized_3.7.23/memmap/val.names.dat"
seq_len="998"

# models=("BP2_L1" "BP2_L3" "BP2_L10" "BP3_L1" "BP3_L3" "BP3_L10")
# timestamps=("02-15-2023.07.59" "02-15-2023.00.32" "02-15-2023.00.30" "02-15-2023.00.19" "02-15-2023.09.09" "02-15-2023.00.21")


# models=("BP4_L1" "BP4_L0" "BP4_L-10" "BP4_L-3" "BP4_L10")
# timestamps=("03-07-2023.21.27" "03-07-2023.20.01" "03-07-2023.20.52" "03-08-2023.08.14" "03-08-2023.10.27")
models=("BP4_L-11")
timestamps=("03-18-2023.10.22")
# models=("BP4_L0" "BP4_L-10" "BP4_L-11" "BP4_L-12" "BP4_L-13" "BP4_L-14" "BP4_L1")
# timestamps=("04-11-2023.14.14" "03-18-2023.10.09" "04-03-2023.16.52" "04-09-2023.12.38" "04-09-2023.12.40" "04-11-2023.14.19" "03-18-2023.10.22")


# some more models with small profile use
# models=("BP2_L0" "BP2_L-1" "BP2_L-2" "BP3_L0" "BP3_L-1" "BP3_L-2")
# timestamps=("02-16-2023.21.31" "02-16-2023.22.09" "02-16-2023.22.10" "02-16-2023.21.22" "02-16-2023.22.12" "02-16-2023.22.13")

for i in ${!models[@]}; do
    dir=$model_dir/${models[$i]}/$type/${timestamps[$i]}
    title=${models[$i]}"_"${timestamps[$i]}
    echo $title
    echo $dir
    python plot_results.py $dir $observed_tcounts_path $observed_profile_path $title $cell_names $peak_names $seq_len
done

